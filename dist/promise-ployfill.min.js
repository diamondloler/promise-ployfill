"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};!function(n,e){"function"==typeof define&&define.amd?define(function(){return e(n)}):"object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module?module.exports=e(n):e(n)}("undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0,function(n){var y=function(n){return"function"==typeof n},h="object"===("undefined"==typeof process?"undefined":_typeof(process))&&null!==process&&"function"==typeof process.nextTick&&process.nextTick||"function"==typeof setImmediate&&setImmediate||setTimeout,m=function(n){return n&&n instanceof a},a=function o(t){var e=!1,r=!1,i=!1,f=[];this.then=function(n,e){if(!y(n)&&!y(e))throw new Error('the arguments of "promise.then" can\'t be empty');return f.push({onResolve:n||null,onReject:e||null}),i=!0,t&&t.call(null,d,p),this};var u,c,n=function(e,t){return function(n){if(n instanceof o)throw new Error("the value of "+e+" should not construtor itself");n&&h(function(){i&&y(t)&&t.call(null,n)})}},l=function(n){return 0==n.length?{}:n.shift()},s=function(n){d(n)},a=function(n){p(n)},d=n("resolve",function(n){if(r)throw Error("can't not call resolve, promise is already rejected");f.length&&(c=l(f),u=c.onResolve&&c.onResolve(n),e=!0,m(u)&&(i=!0,u.then(s,a)))}),p=n("reject",function(n){if(e)throw Error("can't not call reject, promise is already fulfilled");(c=l(f)).onReject&&c.onReject(n),i=!(r=!0)})};return a.all=function(r){if(Array.isArray(r)){for(var n,t,i=[],e=r.length,o=e,f=!1,u=function(n){l(n,this)},c=function(n){l(n,this,!0)},l=function(n,e,t){if(!f){var o=function(n,e){for(var t=0;t<n.length;t++)if(n[t]==e)return t;return!1}(r,e);if(!1!==o)i[o]=n,s.apply(null,t?[i,!0]:[i])}};e--;)if(n=r[e],m(n))n.then(u.bind(n),c.bind(n));else{if(y(n))continue;i[e]=n,s(i)}return new a(function(n){t=n})}function s(n,e){o--,!e&&o||(t(n),f=!0)}},a.resolve=function(e){return m(e)?e:new a(function(n){n(e||"fulfilled")})},a.reject=function(t){return new a(function(n,e){e(t||"rejected")})},a.next=function(){var r=[].slice.call(arguments);!function e(n,t){if(t)return console.warn(t);if(r.length){var o=r.shift();if(y(o))try{void 0!==n?o.call(null,e,n):o.call(null,e)}catch(n){e(null,n)}}}()},a.race=function(n){if(Array.isArray(n)){for(var e,t,o=n.length,r=function(n){e(n)};o--;)t=n[o],m(t)&&t.then(r,r);return new a(function(n){e=n})}},void 0===n.Promise&&(n.Promise=a)});
//# sourceMappingURL=promise-ployfill.min.js.map
